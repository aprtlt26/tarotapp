<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="main.js"></script>
    <title>Tarot Synthetizer</title>
</head>
<body>
    
  
<p id="titulo">
    
    <img src="images/tituloapp.jpg" width="800" height="400" />

</p>

        
    
    <div class="cartas">
        
        <div id="labesl_cartas">

    
   
    </div>
    <div class="nombre_cartas">
      
    </div>
    <img id ="carta3"src="0.jpeg" alt="" name ="dia"> 
   
    <img id ="carta2"src="0.jpeg" alt="" name ="mes">
   
    <img id ="carta1"src="0.jpeg" alt="" name="año">
   
   
    <script src="/path/to/howler.js"></script>
    <script>
        var sound = new Howl({
          src: ['sound.webm', 'sound.mp3']
        });
    </script>
   
    
</div>
<div class="audio">
 
    <audio src="sonidos" controls  id="carta_1_a"  preload="auto" autoplay loop ></audio>
    <audio src="sonidos" controls id="carta_2_a"  preload="auto"  autoplay  loop></audio>
    <audio src="sonidos" controls id="carta_3_a"  preload="auto"  autoplay loop ></audio>

    Reverb: <input type='checkbox' id='ReverbCheck'><p>
        <button id='Start'>start</button>
        <script>
          var context = new AudioContext()
          var source = new AudioNode(context,{type:'sonidos'})
          var amplitude = new GainNode(context,{gain:0})
          var impulse=impulseResponse(3,1)
          var convolver = new ConvolverNode(context,{buffer:impulse})
          source.connect(amplitude)
          source.start()
          Start.onclick = function() {
            context.resume()
            amplitude.disconnect()
            convolver.disconnect()
            if (ReverbCheck.checked) {
              amplitude.connect(convolver)
              convolver.connect(context.destination)
            }
            else amplitude.connect(context.destination)
            amplitude.gain.value=1
            amplitude.gain.setValueAtTime(0,context.currentTime+0.05)//pulse lasts 50 ms
          }
          function impulseResponse(duration,decay) {
            var length = context.sampleRate * duration
            var impulse = context.createBuffer(2,length,context.sampleRate)
            var IR = impulse.getChannelData(0)
            for (var i=0;i<length;i++) IR[i] = (2*Math.random()-1)*Math.pow(1-i/length,decay)
            return impulse
          }
        </script>
    
</div>    

</div> 
  


<div class="datos">
<h3>date:</h3>

<input id ="fecha"type="date" name value="date">
<button class="btn" onclick="tirar()">Barajar</button>



<div class="copy">

    <img id ="carta4_1"src="0.jpeg" alt=""name="dia_1">
    <img id ="carta4_2"src="0.jpeg" alt=""name="mes_2">
    <img id ="carta4_3"src="0.jpeg" alt=""name="año_2">
    

    
</div>


</div>
<div class="formulario" id ="form">
    <form action="https://formspree.io/f/xdobydqp" method="post">
        <label for="email">Email</label>
        
        <input type="email" name="email" id="email" placeholder="aprtlt26@gmail.com">
        <output type="text" name= "poem" id="poem" placeholder>
        <button type="submit" id="enviar">Enviar</button>
    </form>

    <script>

const $form=document.querySelector('#form');
$form.addEventListener('submit',handleSubmit);

async function handleSubmit(event){
    event.preventDefault();
    const form= new FormData(this);
    const response =await fetch(this.action,{
        method:this.method,
        body:form,
        headers:{
            "Accept": "aplication/jason"
        }

    })
    if (response.ok){
        this.reset()
        alert()
    }

}

    </script>
</div>
</body>
</html>